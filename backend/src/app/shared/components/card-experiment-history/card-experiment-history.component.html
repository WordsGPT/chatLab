<div class="card experiment-card mb-2">
  @for(experiment of experiments(); track experiment.id) {
    <div class="card-body">
      
      <!-- Main Row -->
      <div class="history-main-row">
        <!-- Title -->
        <span class="experiment-name">{{ experiment.name }}</span>

        <!-- Buttons -->
        <div class="buttons">
          
          <!-- Delete Button -->
          <button class="btn btn-sm btn-outline-danger" (click)="deleteExperiment(experiment)">
            <i class="bi bi-trash"></i>
          </button>

          <!-- Star Button -->
          <button class="btn btn-sm btn-outline-warning" (click)="toggleFeatured(experiment)">
            <i class="bi" [ngClass]="experiment.featured ? 'bi-star-fill' : 'bi-star'"></i>
          </button>

          <!-- History Dropdown -->
          <div dropdown>

            <!-- Toggle Dropdown Button -->
            <button 
              id="historyDropdown"
              class="btn btn-sm btn-outline-secondary"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false">
                <i class="bi bi-three-dots-vertical"></i>
            </button>

            <!-- Dropdown Menu -->
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="historyDropdown">
              <li><a class="dropdown-item" (click)="goToExperiment(experiment)">Go to experiment</a></li>
              <li><a class="dropdown-item" (click)="goToHistory(experiment)">Go to history</a></li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Secondary Row: Description -->
      @if(showDescription() && experiment.description) {
        <p class="experiment-description mb-0">{{ experiment.description }}</p>
      }

    </div>
  }
</div>
