<div class="card executions-card">
  @for(execution of executions(); track execution.id) {
    <div class="card-body">
      
      <!-- Header Row: Status + Buttons -->
      <div class="d-flex justify-content-between align-items-center mb-2">
        <!-- Status -->
        <span 
          class="status-badge"
          [class.status-error]="execution.status === ExecutionStatus.ERROR"
          [class.status-finished]="execution.status === ExecutionStatus.FINISHED"
        >
          Status: {{ executionStatusLabels[execution.status] }}
        </span>

        <!-- Buttons -->
        <div class="buttons">
          <!-- Run Button -->
          <button class="btn btn-sm btn-outline-primary me-2" (click)="runExecution(execution.id)" [disabled]="execution.status !== ExecutionStatus.CREATED">
            <i class="bi bi-play-fill"></i>
          </button>

          <!-- Delete Button -->
          <button class="btn btn-sm btn-outline-danger" (click)="deleteExecution(execution.id)">
            <i class="bi bi-trash"></i>
          </button>
        </div>
      </div>

      <!-- Main Row: Inputs / Response -->
      <div class="d-flex">
        <!-- Inputs -->
        <div class="variables-section border-end">
          <h6 class="mb-1">Variables</h6>
          <ul class="list-unstyled mb-0">
            @for(input of getInputEntries(execution.inputValues); let i = $index; track i) {
              <li><strong>{{ input[0] }}:</strong> {{ formatValue(input[1]) }}</li>
            }
          </ul>
        </div>

        <!-- Response -->
        <div class="response-section ">
            <h6 class="mb-1">Response</h6>

            @if(hasResults(execution.results)) {
                @for(result of getResultEntries(execution.results!); let j = $index; track j) {
                  <div class="response-model">
                    <strong>{{ result[0] }}:</strong>
                    
                    <ol class="mb-2 ps-4">
                      @for(item of result[1]; let k = $index; track k) {
                        <li>{{ item }}</li>
                      }
                    </ol>
                  </div> 
                }
            } @else {
                <p class="not-executed mb-0">Not executed yet</p>
            }
        </div>

      </div>
    </div>
  }
</div>